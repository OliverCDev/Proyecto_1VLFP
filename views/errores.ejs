<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Errores Léxicos</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      .table td,
      .table th {
        vertical-align: middle;
      }
    </style>
  </head>
  <body>
    <div class="container mt-5">
      <h1 class="mb-4">Errores Léxicos</h1>

      <div id="erroresContainer">
        <table class="table table-bordered table-striped">
          <thead class="table-dark">
            <tr>
              <th>#</th>
              <th>Fila</th>
              <th>Columna</th>
              <th>Lexema</th>
              <th>Token</th>
            </tr>
          </thead>
          <tbody id="erroresBody">
          </tbody>
        </table>
      </div>

      <div class="text-center mt-4">
        <a href="/" class="btn btn-outline-primary">← Volver al Editor</a>
      </div>
    </div>

    <script>
      window.addEventListener("load", function () {
        const errores = JSON.parse(localStorage.getItem("errores") || "[]");

        const tbody = document.getElementById("erroresBody");

        if (errores.length === 0) {
          tbody.innerHTML = `<tr><td colspan="5" class="text-center">No hay errores léxicos.</td></tr>`;
          return;
        }

        errores.forEach((error, index) => {
          const fila = `
            <tr>
              <td>${index + 1}</td>
              <td>${error.row}</td>
              <td>${error.colum}</td>
              <td>${error.lexema}</td>
              <td>${error.typeTokenString}</td>
            </tr>
          `;
          tbody.innerHTML += fila;
        });
      });
    </script>
  </body>
</html>